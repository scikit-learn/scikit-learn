from . import _backend_tk
from ._backend_tk import (  # noqa: F401 # pylint: disable=W0611
    FigureCanvasTk,
    FigureManagerTk,
    NavigationToolbar2Tk,
    _BackendTk,
)
from .backend_agg import FigureCanvasAgg


class FigureCanvasTkAgg(FigureCanvasAgg, FigureCanvasTk):
    def draw(self):
        super().draw()
        self.blit()

    def blit(self, bbox=None):
        _backend_tk.blit(
            self._tkphoto, self.renderer.buffer_rgba(), (0, 1, 2, 3), bbox=bbox
        )


@_BackendTk.export
class _BackendTkAgg(_BackendTk):
    FigureCanvas = FigureCanvasTkAgg
